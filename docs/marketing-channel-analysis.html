<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3 Marketing Channel Analysis | LendingTree Business Case: Marketplace Optimization</title>
  <meta name="description" content="3 Marketing Channel Analysis | LendingTree Business Case: Marketplace Optimization" />
  <meta name="generator" content="bookdown 0.36 and GitBook 2.6.7" />

  <meta property="og:title" content="3 Marketing Channel Analysis | LendingTree Business Case: Marketplace Optimization" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3 Marketing Channel Analysis | LendingTree Business Case: Marketplace Optimization" />
  
  
  

<meta name="author" content="Rena Marrotta" />


<meta name="date" content="2024-02-13" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-pre-processing.html"/>
<link rel="next" href="enhancing-lead-monetization.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Marketplace Optimization</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Executive Summary</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#marketing"><i class="fa fa-check"></i><b>1.1</b> <strong>Marketing</strong></a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="index.html"><a href="index.html#leverage-high-performing-channels-and-reducing-reliance-on-lower-yield-ones"><i class="fa fa-check"></i><b>1.1.1</b> <strong>Leverage High-Performing Channels and Reducing Reliance on Lower-Yield Ones</strong></a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#product-monetization"><i class="fa fa-check"></i><b>1.2</b> <strong>Product Monetization</strong></a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="index.html"><a href="index.html#diversifying-product-portfolio-composition-with-focus-on-business-loans-and-home-equity"><i class="fa fa-check"></i><b>1.2.1</b> <strong>Diversifying Product Portfolio Composition with Focus on Business Loans and Home Equity</strong></a></li>
<li class="chapter" data-level="1.2.2" data-path="index.html"><a href="index.html#key-findings-1"><i class="fa fa-check"></i><b>1.2.2</b> <strong>Key Findings:</strong></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="data-pre-processing.html"><a href="data-pre-processing.html"><i class="fa fa-check"></i><b>2</b> Data Pre-Processing</a></li>
<li class="chapter" data-level="3" data-path="marketing-channel-analysis.html"><a href="marketing-channel-analysis.html"><i class="fa fa-check"></i><b>3</b> Marketing Channel Analysis</a></li>
<li class="chapter" data-level="4" data-path="enhancing-lead-monetization.html"><a href="enhancing-lead-monetization.html"><i class="fa fa-check"></i><b>4</b> Enhancing Lead Monetization</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">LendingTree Business Case: Marketplace Optimization</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="marketing-channel-analysis" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">3</span> Marketing Channel Analysis<a href="marketing-channel-analysis.html#marketing-channel-analysis" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>To understand what are the most profitable strategies, I calculate total revenue by marketing channel.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="marketing-channel-analysis.html#cb29-1" tabindex="-1"></a>marketing_matches <span class="sc">%&gt;%</span></span>
<span id="cb29-2"><a href="marketing-channel-analysis.html#cb29-2" tabindex="-1"></a>  <span class="fu">group_by</span>(CHANNEL) <span class="sc">%&gt;%</span></span>
<span id="cb29-3"><a href="marketing-channel-analysis.html#cb29-3" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Revenue =</span> <span class="fu">sum</span>(REVENUE)) <span class="sc">%&gt;%</span></span>
<span id="cb29-4"><a href="marketing-channel-analysis.html#cb29-4" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(Revenue))</span></code></pre></div>
<pre><code>## # A tibble: 8 × 2
##   CHANNEL           Revenue
##   &lt;chr&gt;               &lt;dbl&gt;
## 1 SEM               171162.
## 2 Partner Marketing 102103.
## 3 CRM                81099.
## 4 Social             50686.
## 5 Display            44316.
## 6 SEO                32686.
## 7 Offline            21409.
## 8 Brand Marketing    18327.</code></pre>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="marketing-channel-analysis.html#cb31-1" tabindex="-1"></a>marketing_matches <span class="sc">%&gt;%</span></span>
<span id="cb31-2"><a href="marketing-channel-analysis.html#cb31-2" tabindex="-1"></a>  <span class="fu">group_by</span>(SUB_CHANNEL) <span class="sc">%&gt;%</span></span>
<span id="cb31-3"><a href="marketing-channel-analysis.html#cb31-3" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Revenue =</span> <span class="fu">sum</span>(REVENUE)) <span class="sc">%&gt;%</span></span>
<span id="cb31-4"><a href="marketing-channel-analysis.html#cb31-4" tabindex="-1"></a>  <span class="fu">arrange</span>( <span class="fu">desc</span>(Revenue))</span></code></pre></div>
<pre><code>## # A tibble: 9 × 2
##   SUB_CHANNEL           Revenue
##   &lt;chr&gt;                   &lt;dbl&gt;
## 1 &lt;NA&gt;                  167442.
## 2 Non-Brand             155182.
## 3 Performance Marketing  82159.
## 4 Promo                  67852.
## 5 Brand                  15980.
## 6 Trigger                13229.
## 7 Media Partnerships     12119.
## 8 Native                  4710.
## 9 Business Development    3116.</code></pre>
<p>Total revenue informs the overall revenue contribution of each channel. I also calculate revenue per session to account for variations in session volume per market channel. This metric is more informative when evaluating which channel is more effective at converting customer interactions to a revenue calculation since it is standardized.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="marketing-channel-analysis.html#cb33-1" tabindex="-1"></a>marketing_matches <span class="sc">%&gt;%</span></span>
<span id="cb33-2"><a href="marketing-channel-analysis.html#cb33-2" tabindex="-1"></a>  <span class="fu">group_by</span>(CHANNEL) <span class="sc">%&gt;%</span></span>
<span id="cb33-3"><a href="marketing-channel-analysis.html#cb33-3" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Revenue_PerSession =</span> <span class="fu">sum</span>(REVENUE)<span class="sc">/</span><span class="fu">n_distinct</span>(CLICK_SESSION_ID)) <span class="sc">%&gt;%</span> <span class="co"># number of sessions per channel</span></span>
<span id="cb33-4"><a href="marketing-channel-analysis.html#cb33-4" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(Revenue_PerSession))</span></code></pre></div>
<pre><code>## # A tibble: 8 × 2
##   CHANNEL           Revenue_PerSession
##   &lt;chr&gt;                          &lt;dbl&gt;
## 1 Social                          87.7
## 2 Display                         50.4
## 3 Offline                         41.3
## 4 SEM                             36.4
## 5 Brand Marketing                 33.6
## 6 Partner Marketing               26.2
## 7 CRM                             25.2
## 8 SEO                             18.9</code></pre>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="marketing-channel-analysis.html#cb35-1" tabindex="-1"></a>marketing_matches <span class="sc">%&gt;%</span></span>
<span id="cb35-2"><a href="marketing-channel-analysis.html#cb35-2" tabindex="-1"></a>  <span class="fu">group_by</span>(SUB_CHANNEL) <span class="sc">%&gt;%</span></span>
<span id="cb35-3"><a href="marketing-channel-analysis.html#cb35-3" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Revenue_PerSession =</span> <span class="fu">sum</span>(REVENUE)<span class="sc">/</span><span class="fu">n_distinct</span>(CLICK_SESSION_ID)) <span class="sc">%&gt;%</span> <span class="co"># number of sessions per channel</span></span>
<span id="cb35-4"><a href="marketing-channel-analysis.html#cb35-4" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(Revenue_PerSession))</span></code></pre></div>
<pre><code>## # A tibble: 9 × 2
##   SUB_CHANNEL           Revenue_PerSession
##   &lt;chr&gt;                              &lt;dbl&gt;
## 1 Native                             118. 
## 2 Media Partnerships                  70.9
## 3 &lt;NA&gt;                                39.4
## 4 Non-Brand                           37.5
## 5 Brand                               28.4
## 6 Trigger                             26.3
## 7 Promo                               24.9
## 8 Performance Marketing               23.2
## 9 Business Development                20.2</code></pre>
<p>See which each channel is made up of by sub-channel</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="marketing-channel-analysis.html#cb37-1" tabindex="-1"></a>market_prod_matches <span class="ot">&lt;-</span> <span class="fu">inner_join</span>(marketing_matches, product_details, <span class="at">by =</span> <span class="st">&quot;PRODUCT_ID&quot;</span>) <span class="co">#full data set with all leads, revenue, products, and marketing</span></span>
<span id="cb37-2"><a href="marketing-channel-analysis.html#cb37-2" tabindex="-1"></a></span>
<span id="cb37-3"><a href="marketing-channel-analysis.html#cb37-3" tabindex="-1"></a>channel_subchannel_counts <span class="ot">&lt;-</span> market_prod_matches <span class="sc">%&gt;%</span></span>
<span id="cb37-4"><a href="marketing-channel-analysis.html#cb37-4" tabindex="-1"></a>  <span class="fu">group_by</span>(CHANNEL, SUB_CHANNEL) <span class="sc">%&gt;%</span></span>
<span id="cb37-5"><a href="marketing-channel-analysis.html#cb37-5" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Product_Count =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb37-6"><a href="marketing-channel-analysis.html#cb37-6" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code></pre></div>
<pre><code>## `summarise()` has grouped output by &#39;CHANNEL&#39;. You can override using the
## `.groups` argument.</code></pre>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="marketing-channel-analysis.html#cb39-1" tabindex="-1"></a><span class="co"># Calculate the total occurrences of each subchannel within each channel</span></span>
<span id="cb39-2"><a href="marketing-channel-analysis.html#cb39-2" tabindex="-1"></a>total_subchannel_counts <span class="ot">&lt;-</span> channel_subchannel_counts <span class="sc">%&gt;%</span></span>
<span id="cb39-3"><a href="marketing-channel-analysis.html#cb39-3" tabindex="-1"></a>  <span class="fu">group_by</span>(CHANNEL) <span class="sc">%&gt;%</span></span>
<span id="cb39-4"><a href="marketing-channel-analysis.html#cb39-4" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Total_Subchannel_Count =</span> <span class="fu">sum</span>(Product_Count))</span>
<span id="cb39-5"><a href="marketing-channel-analysis.html#cb39-5" tabindex="-1"></a></span>
<span id="cb39-6"><a href="marketing-channel-analysis.html#cb39-6" tabindex="-1"></a><span class="co"># Calculate proportions</span></span>
<span id="cb39-7"><a href="marketing-channel-analysis.html#cb39-7" tabindex="-1"></a>channel_subchannel_counts <span class="sc">%&gt;%</span></span>
<span id="cb39-8"><a href="marketing-channel-analysis.html#cb39-8" tabindex="-1"></a>  <span class="fu">left_join</span>(total_subchannel_counts, <span class="at">by =</span> <span class="st">&quot;CHANNEL&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb39-9"><a href="marketing-channel-analysis.html#cb39-9" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Proportion =</span> Product_Count <span class="sc">/</span> Total_Subchannel_Count)<span class="sc">%&gt;%</span></span>
<span id="cb39-10"><a href="marketing-channel-analysis.html#cb39-10" tabindex="-1"></a>  <span class="fu">arrange</span>(CHANNEL, <span class="fu">desc</span>(Proportion))</span></code></pre></div>
<pre><code>## # A tibble: 14 × 5
##    CHANNEL           SUB_CHANNEL  Product_Count Total_Subchannel_Count Proportion
##    &lt;chr&gt;             &lt;chr&gt;                &lt;int&gt;                  &lt;int&gt;      &lt;dbl&gt;
##  1 Brand Marketing   &lt;NA&gt;                  2373                   2373  1        
##  2 CRM               Promo                11385                  13284  0.857    
##  3 CRM               Trigger               1898                  13284  0.143    
##  4 CRM               &lt;NA&gt;                     1                  13284  0.0000753
##  5 Display           &lt;NA&gt;                  2321                   2321  1        
##  6 Offline           &lt;NA&gt;                  2260                   2260  1        
##  7 Partner Marketing Performance…         11106                  12326  0.901    
##  8 Partner Marketing Media Partn…           558                  12326  0.0453   
##  9 Partner Marketing Business De…           550                  12326  0.0446   
## 10 Partner Marketing Native                 112                  12326  0.00909  
## 11 SEM               Non-Brand            14199                  16584  0.856    
## 12 SEM               Brand                 2385                  16584  0.144    
## 13 SEO               &lt;NA&gt;                  6575                   6575  1        
## 14 Social            &lt;NA&gt;                  2379                   2379  1</code></pre>
<p>Analyze the proportion of each marketing channel in all sessions</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="marketing-channel-analysis.html#cb41-1" tabindex="-1"></a>sessions_clean_marketing <span class="ot">&lt;-</span> <span class="fu">inner_join</span>(sessions, marketing_details, <span class="at">by =</span> <span class="st">&quot;marketing_ID&quot;</span>)</span>
<span id="cb41-2"><a href="marketing-channel-analysis.html#cb41-2" tabindex="-1"></a></span>
<span id="cb41-3"><a href="marketing-channel-analysis.html#cb41-3" tabindex="-1"></a><span class="fu">options</span>(<span class="at">scipen =</span> <span class="dv">999</span>)</span>
<span id="cb41-4"><a href="marketing-channel-analysis.html#cb41-4" tabindex="-1"></a>total_sessions <span class="ot">&lt;-</span> <span class="fu">nrow</span>(sessions_clean_marketing)</span>
<span id="cb41-5"><a href="marketing-channel-analysis.html#cb41-5" tabindex="-1"></a></span>
<span id="cb41-6"><a href="marketing-channel-analysis.html#cb41-6" tabindex="-1"></a>sessions_clean_marketing <span class="sc">%&gt;%</span></span>
<span id="cb41-7"><a href="marketing-channel-analysis.html#cb41-7" tabindex="-1"></a>  <span class="fu">group_by</span>(CHANNEL) <span class="sc">%&gt;%</span></span>
<span id="cb41-8"><a href="marketing-channel-analysis.html#cb41-8" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">rows_by_channel =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb41-9"><a href="marketing-channel-analysis.html#cb41-9" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Proportion =</span> rows_by_channel <span class="sc">/</span> total_sessions)<span class="sc">%&gt;%</span></span>
<span id="cb41-10"><a href="marketing-channel-analysis.html#cb41-10" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(Proportion))</span></code></pre></div>
<pre><code>## # A tibble: 9 × 3
##   CHANNEL                 rows_by_channel Proportion
##   &lt;chr&gt;                             &lt;int&gt;      &lt;dbl&gt;
## 1 Partner Marketing                 31255  0.275    
## 2 SEM                               22375  0.197    
## 3 Offline                           21444  0.188    
## 4 SEO                               13899  0.122    
## 5 CRM                               13804  0.121    
## 6 Display                            7465  0.0656   
## 7 Brand Marketing                    2071  0.0182   
## 8 Social                             1539  0.0135   
## 9 Offline Direct Response               2  0.0000176</code></pre>
<p>To further explore which marketing channels are better at converting sessions to leads I want to calculate the conversion rate per marketing channel.</p>
<p>I first filter for only sessions that do not have a lead_id associated with it and count the total number of occurences for each marketing channel.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="marketing-channel-analysis.html#cb43-1" tabindex="-1"></a>lead_ids <span class="ot">&lt;-</span> <span class="fu">unique</span>(marketing_matches<span class="sc">$</span>CLICK_SESSION_ID) <span class="co">#16079</span></span>
<span id="cb43-2"><a href="marketing-channel-analysis.html#cb43-2" tabindex="-1"></a></span>
<span id="cb43-3"><a href="marketing-channel-analysis.html#cb43-3" tabindex="-1"></a>no_leads <span class="ot">&lt;-</span> sessions_clean <span class="sc">%&gt;%</span></span>
<span id="cb43-4"><a href="marketing-channel-analysis.html#cb43-4" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>(SESSION_ID <span class="sc">%in%</span> lead_ids)) <span class="co">#97478 sessions that did not turn into leads</span></span>
<span id="cb43-5"><a href="marketing-channel-analysis.html#cb43-5" tabindex="-1"></a></span>
<span id="cb43-6"><a href="marketing-channel-analysis.html#cb43-6" tabindex="-1"></a><span class="co">#join on marketing id to get marketing information for sessions that did not turn into leads</span></span>
<span id="cb43-7"><a href="marketing-channel-analysis.html#cb43-7" tabindex="-1"></a>no_leads <span class="ot">&lt;-</span> <span class="fu">inner_join</span>(no_leads, marketing_details, <span class="at">by =</span> <span class="st">&quot;marketing_ID&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="marketing-channel-analysis.html#cb44-1" tabindex="-1"></a>nonconverted_counts <span class="ot">&lt;-</span> no_leads <span class="sc">%&gt;%</span></span>
<span id="cb44-2"><a href="marketing-channel-analysis.html#cb44-2" tabindex="-1"></a>  <span class="fu">group_by</span>(CHANNEL) <span class="sc">%&gt;%</span></span>
<span id="cb44-3"><a href="marketing-channel-analysis.html#cb44-3" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n_marketing_nonc =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb44-4"><a href="marketing-channel-analysis.html#cb44-4" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n_marketing_nonc))</span>
<span id="cb44-5"><a href="marketing-channel-analysis.html#cb44-5" tabindex="-1"></a>nonconverted_counts</span></code></pre></div>
<pre><code>## # A tibble: 9 × 2
##   CHANNEL                 n_marketing_nonc
##   &lt;chr&gt;                              &lt;int&gt;
## 1 Partner Marketing                  27330
## 2 Offline                            20846
## 3 SEM                                17653
## 4 SEO                                12081
## 5 CRM                                10517
## 6 Display                             6585
## 7 Brand Marketing                     1503
## 8 Social                               961
## 9 Offline Direct Response                2</code></pre>
<p>Then I filter for sessions that have an associated lead_id indicating the session successfully converted into a lead and count the total number of occurences for each marketing channel.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="marketing-channel-analysis.html#cb46-1" tabindex="-1"></a>yes_leads <span class="ot">&lt;-</span> sessions_clean <span class="sc">%&gt;%</span></span>
<span id="cb46-2"><a href="marketing-channel-analysis.html#cb46-2" tabindex="-1"></a>  <span class="fu">filter</span>(SESSION_ID <span class="sc">%in%</span> lead_ids) <span class="co">#16079 sessions that converted to leads</span></span>
<span id="cb46-3"><a href="marketing-channel-analysis.html#cb46-3" tabindex="-1"></a></span>
<span id="cb46-4"><a href="marketing-channel-analysis.html#cb46-4" tabindex="-1"></a>yes_leads <span class="ot">&lt;-</span> <span class="fu">inner_join</span>(yes_leads, marketing_details, <span class="at">by =</span> <span class="st">&quot;marketing_ID&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="marketing-channel-analysis.html#cb47-1" tabindex="-1"></a>converted_counts <span class="ot">&lt;-</span> yes_leads <span class="sc">%&gt;%</span></span>
<span id="cb47-2"><a href="marketing-channel-analysis.html#cb47-2" tabindex="-1"></a>  <span class="fu">group_by</span>(CHANNEL) <span class="sc">%&gt;%</span></span>
<span id="cb47-3"><a href="marketing-channel-analysis.html#cb47-3" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n_marketing_c =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb47-4"><a href="marketing-channel-analysis.html#cb47-4" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n_marketing_c))</span>
<span id="cb47-5"><a href="marketing-channel-analysis.html#cb47-5" tabindex="-1"></a>converted_counts</span></code></pre></div>
<pre><code>## # A tibble: 8 × 2
##   CHANNEL           n_marketing_c
##   &lt;chr&gt;                     &lt;int&gt;
## 1 SEM                        4699
## 2 Partner Marketing          3902
## 3 CRM                        3224
## 4 SEO                        1732
## 5 Display                     880
## 6 Social                      578
## 7 Brand Marketing             545
## 8 Offline                     519</code></pre>
<p>Using these calculations, I can now calculate a conversion rate for each marketing channel.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="marketing-channel-analysis.html#cb49-1" tabindex="-1"></a><span class="fu">full_join</span>(converted_counts, nonconverted_counts, <span class="at">by =</span> <span class="st">&quot;CHANNEL&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb49-2"><a href="marketing-channel-analysis.html#cb49-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">conversion_rate =</span> n_marketing_c <span class="sc">/</span> (n_marketing_c <span class="sc">+</span> n_marketing_nonc)) <span class="sc">%&gt;%</span> <span class="co">#converted count / total count</span></span>
<span id="cb49-3"><a href="marketing-channel-analysis.html#cb49-3" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(conversion_rate))  <span class="co"># Sort by conversion rate</span></span></code></pre></div>
<pre><code>## # A tibble: 9 × 4
##   CHANNEL                 n_marketing_c n_marketing_nonc conversion_rate
##   &lt;chr&gt;                           &lt;int&gt;            &lt;int&gt;           &lt;dbl&gt;
## 1 Social                            578              961          0.376 
## 2 Brand Marketing                   545             1503          0.266 
## 3 CRM                              3224            10517          0.235 
## 4 SEM                              4699            17653          0.210 
## 5 SEO                              1732            12081          0.125 
## 6 Partner Marketing                3902            27330          0.125 
## 7 Display                           880             6585          0.118 
## 8 Offline                           519            20846          0.0243
## 9 Offline Direct Response            NA                2         NA</code></pre>
<p>Comparing % of channels in converted sessions and non converted sessions</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="marketing-channel-analysis.html#cb51-1" tabindex="-1"></a><span class="fu">options</span>(<span class="at">scipen =</span> <span class="dv">999</span>)</span>
<span id="cb51-2"><a href="marketing-channel-analysis.html#cb51-2" tabindex="-1"></a>total_sessions <span class="ot">&lt;-</span> <span class="fu">nrow</span>(yes_leads)</span>
<span id="cb51-3"><a href="marketing-channel-analysis.html#cb51-3" tabindex="-1"></a></span>
<span id="cb51-4"><a href="marketing-channel-analysis.html#cb51-4" tabindex="-1"></a>yes_leads <span class="sc">%&gt;%</span></span>
<span id="cb51-5"><a href="marketing-channel-analysis.html#cb51-5" tabindex="-1"></a>  <span class="fu">group_by</span>(CHANNEL) <span class="sc">%&gt;%</span></span>
<span id="cb51-6"><a href="marketing-channel-analysis.html#cb51-6" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">rows_by_channel =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb51-7"><a href="marketing-channel-analysis.html#cb51-7" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Proportion_of_YesLeads =</span> rows_by_channel <span class="sc">/</span> total_sessions)<span class="sc">%&gt;%</span></span>
<span id="cb51-8"><a href="marketing-channel-analysis.html#cb51-8" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(Proportion_of_YesLeads))</span></code></pre></div>
<pre><code>## # A tibble: 8 × 3
##   CHANNEL           rows_by_channel Proportion_of_YesLeads
##   &lt;chr&gt;                       &lt;int&gt;                  &lt;dbl&gt;
## 1 SEM                          4699                 0.292 
## 2 Partner Marketing            3902                 0.243 
## 3 CRM                          3224                 0.201 
## 4 SEO                          1732                 0.108 
## 5 Display                       880                 0.0547
## 6 Social                        578                 0.0359
## 7 Brand Marketing               545                 0.0339
## 8 Offline                       519                 0.0323</code></pre>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="marketing-channel-analysis.html#cb53-1" tabindex="-1"></a><span class="fu">options</span>(<span class="at">scipen =</span> <span class="dv">999</span>)</span>
<span id="cb53-2"><a href="marketing-channel-analysis.html#cb53-2" tabindex="-1"></a>total_sessions <span class="ot">&lt;-</span> <span class="fu">nrow</span>(no_leads)</span>
<span id="cb53-3"><a href="marketing-channel-analysis.html#cb53-3" tabindex="-1"></a></span>
<span id="cb53-4"><a href="marketing-channel-analysis.html#cb53-4" tabindex="-1"></a>no_leads <span class="sc">%&gt;%</span></span>
<span id="cb53-5"><a href="marketing-channel-analysis.html#cb53-5" tabindex="-1"></a>  <span class="fu">group_by</span>(CHANNEL) <span class="sc">%&gt;%</span></span>
<span id="cb53-6"><a href="marketing-channel-analysis.html#cb53-6" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">rows_by_channel =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb53-7"><a href="marketing-channel-analysis.html#cb53-7" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Proportion_of_NoLeads =</span> rows_by_channel <span class="sc">/</span> total_sessions)<span class="sc">%&gt;%</span></span>
<span id="cb53-8"><a href="marketing-channel-analysis.html#cb53-8" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(Proportion_of_NoLeads))</span></code></pre></div>
<pre><code>## # A tibble: 9 × 3
##   CHANNEL                 rows_by_channel Proportion_of_NoLeads
##   &lt;chr&gt;                             &lt;int&gt;                 &lt;dbl&gt;
## 1 Partner Marketing                 27330             0.280    
## 2 Offline                           20846             0.214    
## 3 SEM                               17653             0.181    
## 4 SEO                               12081             0.124    
## 5 CRM                               10517             0.108    
## 6 Display                            6585             0.0676   
## 7 Brand Marketing                    1503             0.0154   
## 8 Social                              961             0.00986  
## 9 Offline Direct Response               2             0.0000205</code></pre>

</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-pre-processing.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="enhancing-lead-monetization.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/renamarrotta/MarketplaceOptimization/edit/main/03-Marketing.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/renamarrotta/MarketplaceOptimization/blob/main/03-Marketing.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
